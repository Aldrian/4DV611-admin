<div class="event" flow-drag-enter="imageDropClass='drag-over'" flow-drag-leave="imageDropClass=''">
  <!-- TODO: bootstrap this ugly-looking html later... -->
  <!-- editable-text="event.racetrack" -->
  <div class="panel panel-default">
    <div class="panel-heading">
      <h4 class="panel-title">
        <a role="button" class="uppercase" ng-click="collapsed = !collapsed">
          {{event.track.name}} - {{event.date | date :'medium'}}
        </a>
        <div class="pull-right">
          <img src="assets/images/event_published.png" height="20" width="20" ng-show="event.published">
        </div>
      </h4>
    </div>
    <div class="panel-collapse collapse collapse" collapse="!collapsed">
      <div class="panel-body">
        <form name="eventForm">

          <fieldset class="form-group">
            <table> <tr> <td>
              <div flow-init flow-file-added="setImage($file, $event, $flow, event)">
                <div flow-drop ng-class="imageDropClass" class="drop-image" ng-style="style" style="margin-right: 14px">
                  <img flow-btn flow-img="$flow.files[0]" ng-src="{{event.offerImage}}" class="img-rounded" width="200px" height="200px" style="cursor: pointer">
                </div>
                <!--ng-src="{{event.image}}"-->
              </div>

            </td> <td style="width: 100%; height: 100%">
              <textarea ng-model="event.offer" class="form-control" placeholder="Today's offers..." style="height: 107%" title="Today's offers" required></textarea>
            </td></tr></table>
          </fieldset>

          <fieldset class="form-group">
            <textarea ng-model="event.highlight" class="form-control" placeholder="Today's highlights..." title="Today's highlights" required></textarea>
          </fieldset>

          <fieldset class="form-group">
            <textarea ng-model="event.homeTeam" class="form-control" placeholder="Today's home team..." title="Today's home team" required></textarea>
          </fieldset>

          <fieldset class="form-group">
            <textarea ng-model="event.track.about" class="form-control" placeholder="About {{event.track.name}}..." title="About {{event.track.name}}" required></textarea>
          </fieldset>

          <input type="submit" class="btn btn-warning pull-right" style="margin-left: 14px" value="Publish Event" ng-click="eventForm.$valid && publishEvent(event)" ng-hide="event.published" />
          <input type="submit" class="btn btn-success pull-right" value="Save Changes" ng-show="eventForm.$dirty" ng-click="eventForm.$valid && saveChanges(event)" />
          <input type="button" class="btn btn-danger pull-right" style="margin-right: 14px" value="Discard Changes" ng-click="discardChanges(event)" ng-show="eventForm.$dirty" />
        </form>
        <div class="clearfix" />
      </div>
    </div>
  </div>
</div>
